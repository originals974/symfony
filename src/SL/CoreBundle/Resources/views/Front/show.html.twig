{% set panelClass = 'panel panel-default' %}

{% embed 'SLCoreBundle::sectionSkeleton.html.twig' with {
    'panelClass':panelClass,
    'object':object,
    'objects':objects,
    'entity':entity,
    'path':path
    } only
%}

    {% block section_heading %}
    	<div class="btn-group">   
			<a class="btn btn-default btn-xs" data-toggle="modal" href="{{ path('front_edit', { 'id' : object.id, 'entity_id': entity.id }) }}" data-target="#">
		        <span class="fa fa-pencil"></span>  
		    </a>
		    <a class="btn btn-danger btn-xs" data-toggle="modal" href="{{ path('front_remove', { 'id' : object.id, 'entity_id': entity.id }) }}" data-target="#">
		        <span class="fa fa-times"></span>  
		    </a>
		</div>
    {% endblock %}

    {% block section_body %}
        <ul class="list-inline">
		    <li>
				<span class="fa {{ object.icon() }} fa-3x"></span> 
			</li>
			<li>
				<h3>{{ entity.displayName() }} <small>({{ path }})</small></h3>
			</li>
		</ul>
		{% for object in objects%}
			<hr>
			<h4>{{ object.displayName }}</h4>

			<dl class="dl-horizontal">
				{% for property in object.properties %}

				    <dt>{{ property.displayName}}</dt>

				    {% if property.fieldType.technicalName == 'date' %}
				        <dd>{{ attribute(entity, property.technicalName)|date("d/m/Y") }}</dd>
				    {% elseif  property.fieldType.technicalName == 'entity' %}

				        {% set entityProperties = attribute(entity, property.technicalName) %}
				        <dd>
				        {% for entityProperty in entityProperties %}
				            {{ entityProperty.displayName }}
				            {% if not loop.last %}
				                ,
				            {% endif %}
				        {% endfor %}
				        </dd>
				    {% else %}
				        <dd>{{ attribute(entity, property.technicalName) }}</dd>
				    {% endif %}

				{% endfor %}
			</dl>

		{% endfor %}

    {% endblock %}

{% endembed %}
